<template name="aggregationReport">
  <div class="panel panel-success">
    <div class="panel-heading">
      <h3 class="panel-title">Aggregation Checker / Report Generator</h3>
    </div>
    <div class="panel-body">
      <div class="form-group col-lg-3">
        <div class="col-lg-12">
          <input type="text" class="form-control" id="inputCodeReport" placeholder="Enter Pallet/Bundlebox Code">
        </div>
      </div>
      <div class="form-group col-lg-2">
        <a href="#" class="btn btnReport btn-info">Show Report</a>
      </div>
      <div class="form-group col-lg-3">

        {{#if searching}}
          <h4>Total Indibox:  <strong> 0 </strong> pcs</h4>
        {{else}}
          <h4>Total Indibox:  <strong>{{tCounter}}</strong> pcs</h4>
        {{/if}}
      </div>

      {{#if isPallet}}
        <div class="form-group col-lg-2">
          <a href="#" class="btn btnSave btn-info">Save Report</a>
        </div>

        <div class="form-group col-lg-2">
          <a href="#" class="btn btnReprint btn-warning">Reprint Label</a>
        </div>
      {{/if}}
      <hr>
      <!-- <p>&nbsp;</p>
      <p>&nbsp;</p> -->
      <div id="codes">
        {{#if duplicateFound}}
          <div class="row">
            <h1 class="text-center"><strong> Duplicate Found : {{duplicateCount}}</strong></h1>
          </div>
        {{else}}
        <div class="row">
          <h1 class="text-center"><strong> {{serialCode}}</strong></h1>
        </div>
        {{/if}}

        <!-- Pallet Report View -->
        {{#if isPallet}}
          <table class="table table-striped table-hover ">
            <thead>
              <tr>
                <th>Bundlebox</th>
                <th>Shippingbox</th>
                <th>Indibox</th>
                <th>Bag-1</th>
                <th>Tank-1</th>
                <th>Bag-2</th>
                <th>Tank-2</th>
              </tr>
            </thead>
            <tbody class="list">

              {{#if searching}}
                <p> <h1> Searching... </h1></p>
              {{else}}

                {{#each palletData}}
                  <tr>
                    <td class="bundle">{{bundlecode}}</td>
                    <td class="ship">{{shipboxcode}}</td>
                    <td style="{{#if checkDupIndi indiboxcode}} background-color:red {{/if}}"> {{indiboxcode}} </td>
                    <td style="{{#if checkDupF1 foil1}} background-color:red {{/if}}"> {{foil1}} </td>
                    <td style="{{#if checkDupT1 tank1}} background-color:red {{/if}}"> {{tank1}} </td>
                    <td style="{{#if checkDupF2 foil2}} background-color:red {{/if}}"> {{foil2}} </td>
                    <td style="{{#if checkDupT2 tank2}} background-color:red {{/if}}"> {{tank2}} </td>
                  </tr>
                {{/each}}

              {{/if}}
            </tbody>
          </table>
        {{/if}}

        <!-- Bundlebox Report View -->
        {{#if isBundle}}
          <table class="table table-striped table-hover ">
            <thead>
              <tr>
                <th>Shippingbox</th>
                <th>Indibox</th>
                <th>Bag-1</th>
                <th>Tank-1</th>
                <th>Bag-2</th>
                <th>Tank-2</th>
              </tr>
            </thead>
            <tbody class="list">

              {{#if searching}}
                <p> <h1> Searching... </h1></p>
              {{else}}

                {{#each bundleData}}
                  <tr>
                    <td class="ship">{{shipboxcode}}</td>
                    <td style="{{#if checkDupIndi indiboxcode}} background-color:red {{/if}}"> {{indiboxcode}} </td>
                    <td style="{{#if checkDupF1 foil1}} background-color:red {{/if}}"> {{foil1}} </td>
                    <td style="{{#if checkDupT1 tank1}} background-color:red {{/if}}"> {{tank1}} </td>
                    <td style="{{#if checkDupF2 foil2}} background-color:red {{/if}}"> {{foil2}} </td>
                    <td style="{{#if checkDupT2 tank2}} background-color:red {{/if}}"> {{tank2}} </td>
                  </tr>
                {{/each}}

              {{/if}}
            </tbody>
          </table>
        {{/if}}

      </div>
    </div>
  </div>
</template>
